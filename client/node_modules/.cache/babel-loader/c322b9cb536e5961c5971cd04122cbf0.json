{"ast":null,"code":"var _jsxFileName = \"/Users/morris754/Documents/projects/dashboard/client/src/components/Timeline.js\";\nimport React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport { select } from 'd3';\nimport stock from '../data/aapl.csv';\n\nclass Timeline extends Component {\n  constructor() {\n    super();\n    this.state = {};\n    this.drawChart = this.drawChart.bind(this);\n  }\n\n  componentDidMount() {\n    this.drawChart();\n  }\n\n  async drawChart() {\n    var file = await d3.csv(stock, function ({\n      date,\n      close\n    }) {\n      return {\n        date: date,\n        value: +close\n      };\n    });\n    var data = Object.assign(file, {\n      y: \"$ Close\"\n    });\n    var line = d3.line().curve(d3.curveStep).defined(d => !isNaN(d.value)).x(d => x(new Date(d.date))).y(d => y(+d.value));\n    const node = this.node;\n    var margin = {\n      top: 20,\n      right: 30,\n      bottom: 30,\n      left: 40\n    };\n    var width = select(node).attr(\"width\") - margin.left - margin.right;\n    var height = select(node).attr(\"height\") - margin.bottom - margin.top;\n    var x = d3.scaleUtc().domain(d3.extent(data, d => new Date(d.date))).range([margin.left, width - margin.right]);\n    var y = d3.scaleLinear().domain([0, d3.max(data, d => d.value)]).nice().range([height - margin.bottom, margin.top]);\n\n    var xAxis = g => g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(d3.axisBottom(x).ticks(width / 80).tickSizeOuter(0));\n\n    var yAxis = g => g.attr(\"transform\", `translate(${margin.left},0)`).call(d3.axisLeft(y)).call(g => g.select(\".domain\").remove()).call(g => g.select(\".tick:last-of-type text\").clone().attr(\"x\", 3).attr(\"text-anchor\", \"start\").attr(\"font-weight\", \"bold\").text(data.y));\n\n    function bisect(mx) {\n      console.log('x');\n      console.log(mx);\n      const bisect = d3.bisector(d => d.date).left;\n      console.log('come on');\n      return mx => {\n        console.log('bitch');\n        const date = x.invert(mx);\n        console.log('inverted');\n        console.log(date);\n        const index = bisect(data, date, 1);\n        const a = data[index - 1];\n        const b = data[index];\n        return b && date - a.date > b.date - date ? b : a;\n      };\n    }\n\n    ;\n\n    function callout(g, value) {\n      if (!value) return g.style(\"display\", \"none\");\n      g.style(\"display\", null).style(\"pointer-events\", \"none\").style(\"font\", \"10px sans-serif\");\n      const path = g.selectAll(\"path\").data([null]).join(\"path\").attr(\"fill\", \"white\").attr(\"stroke\", \"black\");\n      const text = g.selectAll(\"text\").data([null]).join(\"text\").call(text => text.selectAll(\"tspan\").data((value + \"\").split(/\\n/)).join(\"tspan\").attr(\"x\", 0).attr(\"y\", (d, i) => `${i * 1.1}em`).style(\"font-weight\", (_, i) => i ? null : \"bold\").text(d => d));\n      const {\n        x,\n        y,\n        width: w,\n        height: h\n      } = text.node().getBBox();\n      text.attr(\"transform\", `translate(${-w / 2},${15 - y})`);\n      path.attr(\"d\", `M${-w / 2 - 10},5H-5l5,-5l5,5H${w / 2 + 10}v${h + 20}h-${w + 20}z`);\n    }\n\n    function formatDate(date) {\n      return date.toLocaleString(\"en\", {\n        month: \"short\",\n        day: \"numeric\",\n        year: \"numeric\",\n        timeZone: \"UTC\"\n      });\n    }\n\n    function formatValue(value) {\n      return value.toLocaleString(\"en\", {\n        style: \"currency\",\n        currency: \"USD\"\n      });\n    }\n\n    select(node).append(\"g\").call(xAxis);\n    select(node).append(\"g\").call(yAxis);\n    select(node).append(\"path\").datum(data).attr(\"fill\", \"none\").attr(\"stroke\", \"steelblue\").attr(\"stroke-width\", 1.5).attr(\"stroke-linejoin\", \"round\").attr(\"stroke-linecap\", \"round\").attr(\"d\", line);\n    const tooltip = select(node).append(\"g\");\n    select(node).on(\"touchmove mousemove\", function () {\n      const {\n        date,\n        value\n      } = bisect(d3.mouse(this)[0]);\n      tooltip.attr(\"transform\", `translate(${x(new Date(date))},${y(+value)})`).call(callout, `${formatValue(+value)} ${formatDate(new Date(date))}`);\n    });\n    select(node).on(\"touchend mouseleave\", () => tooltip.call(callout, null));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      ref: node => this.node = node,\n      width: 500,\n      height: 500,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 12\n      }\n    });\n  }\n\n}\n\nexport default Timeline;","map":{"version":3,"sources":["/Users/morris754/Documents/projects/dashboard/client/src/components/Timeline.js"],"names":["React","Component","d3","select","stock","Timeline","constructor","state","drawChart","bind","componentDidMount","file","csv","date","close","value","data","Object","assign","y","line","curve","curveStep","defined","d","isNaN","x","Date","node","margin","top","right","bottom","left","width","attr","height","scaleUtc","domain","extent","range","scaleLinear","max","nice","xAxis","g","call","axisBottom","ticks","tickSizeOuter","yAxis","axisLeft","remove","clone","text","bisect","mx","console","log","bisector","invert","index","a","b","callout","style","path","selectAll","join","split","i","_","w","h","getBBox","formatDate","toLocaleString","month","day","year","timeZone","formatValue","currency","append","datum","tooltip","on","mouse","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport { select } from 'd3';\nimport stock from '../data/aapl.csv'\n\n\nclass Timeline extends Component {\n  constructor() {\n    super()\n    this.state = {\n    }\n    this.drawChart = this.drawChart.bind(this)\n\n  }\n\n  componentDidMount() {\n    this.drawChart()\n  }\n\n\n  async drawChart() {\n    var file = await d3.csv(stock, function({date, close}) {\n        return {\n          date: date,\n          value: +close\n        }\n    })\n    var data = Object.assign(file, {y: \"$ Close\"})\n\n    var line = d3.line()\n        .curve(d3.curveStep)\n        .defined(d => !isNaN(d.value))\n        .x(d => x(new Date(d.date) ))\n        .y(d => y(+d.value))\n\n    const node = this.node\n    var margin = ({top: 20, right: 30, bottom: 30, left: 40})\n    var width = select(node).attr(\"width\") - margin.left - margin.right;\n    var height = select(node).attr(\"height\") - margin.bottom - margin.top;\n    \n\n    var x = d3.scaleUtc()\n    .domain(d3.extent(data, d => new Date(d.date) ))\n    .range([margin.left, width - margin.right])\n    \n    var y = d3.scaleLinear()\n    .domain([0, d3.max(data, d => d.value)]).nice()\n    .range([height - margin.bottom, margin.top])\n\n    var xAxis = g => g\n        .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n        .call(d3.axisBottom(x).ticks(width / 80).tickSizeOuter(0))\n\n    var yAxis = g => g\n        .attr(\"transform\", `translate(${margin.left},0)`)\n        .call(d3.axisLeft(y))\n        .call(g => g.select(\".domain\").remove())\n        .call(g => g.select(\".tick:last-of-type text\").clone()\n            .attr(\"x\", 3)\n            .attr(\"text-anchor\", \"start\")\n            .attr(\"font-weight\", \"bold\")\n            .text(data.y))\n\n    function bisect(mx) {\n      console.log('x')\n      console.log(mx)\n      const bisect = d3.bisector(d => d.date ).left;\n      console.log('come on')\n      return mx => {\n        console.log('bitch')\n        const date = x.invert(mx);\n        console.log('inverted')\n        console.log(date)\n        const index = bisect(data, date, 1);\n        const a = data[index - 1];\n        const b = data[index];\n        return b && (date - a.date > b.date - date) ? b : a;\n      };\n    };\n\n  function callout (g, value) {\n      if (!value) return g.style(\"display\", \"none\");\n\n      g\n          .style(\"display\", null)\n          .style(\"pointer-events\", \"none\")\n          .style(\"font\", \"10px sans-serif\");\n\n      const path = g.selectAll(\"path\")\n          .data([null])\n          .join(\"path\")\n          .attr(\"fill\", \"white\")\n          .attr(\"stroke\", \"black\");\n\n      const text = g.selectAll(\"text\")\n          .data([null])\n          .join(\"text\")\n          .call(text => text\n          .selectAll(\"tspan\")\n          .data((value + \"\").split(/\\n/))\n          .join(\"tspan\")\n              .attr(\"x\", 0)\n              .attr(\"y\", (d, i) => `${i * 1.1}em`)\n              .style(\"font-weight\", (_, i) => i ? null : \"bold\")\n              .text(d => d));\n\n      const {x, y, width: w, height: h} = text.node().getBBox();\n\n      text.attr(\"transform\", `translate(${-w / 2},${15 - y})`);\n      path.attr(\"d\", `M${-w / 2 - 10},5H-5l5,-5l5,5H${w / 2 + 10}v${h + 20}h-${w + 20}z`);\n  }\n\n    function formatDate (date) {\n      return date.toLocaleString(\"en\", {\n          month: \"short\",\n          day: \"numeric\",\n          year: \"numeric\",\n          timeZone: \"UTC\"\n          });\n      }\n        \n    function formatValue(value) {\n        return value.toLocaleString(\"en\", {\n            style: \"currency\",\n            currency: \"USD\"\n            });    \n    }\n\n    select(node)\n        .append(\"g\")\n        .call(xAxis);\n    \n    select(node)\n        .append(\"g\")\n        .call(yAxis);\n    \n    select(node)\n        .append(\"path\")\n        .datum(data)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"steelblue\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"stroke-linejoin\", \"round\")\n        .attr(\"stroke-linecap\", \"round\")\n        .attr(\"d\", line);\n  \n    const tooltip = select(node).append(\"g\");\n  \n    select(node).on(\"touchmove mousemove\", function() {\n      const {date, value} = bisect(d3.mouse(this)[0]);\n      tooltip\n          .attr(\"transform\", `translate(${x(new Date(date) )},${y( +value)})`)\n          .call(callout, `${formatValue(+value)} ${formatDate(new Date(date) )}`);\n    });\n  \n    select(node).on(\"touchend mouseleave\", () => tooltip.call(callout, null));\n\n  }\n\n\n  render(){\n    return <svg ref={node => this.node = node}\n    width={500} height={500}>\n    </svg>\n  }\n}\n\n\nexport default Timeline;"]},"metadata":{},"sourceType":"module"}